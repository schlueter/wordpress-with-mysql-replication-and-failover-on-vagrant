BOX: ubuntu/trusty64

FAILOVER_FILE_PREFIX: |
  This file is generated by the Vagrantfile in this directory.
  It states the current sql master on a line starting with 'master='.
  If that line or this file does not exist, the Vagrantfile will
  assume the 'sql1' box is the master. Any other line is ignored.

IP_ADDRESSES:
  sql1: &sql1_ip 192.168.10.11
  sql2: &sql2_ip 192.168.10.12
  web: &web_ip 192.168.10.13

PASSWORDS:
  sql_master: &sql_master_pass badpassword_master
  sql_master_root: &sql_master_root_pass badpassword_master_root
  sql_slave: &sql_slave_pass badpassword_slave
  sql_slave_root: &sql_slave_root_pass badpassword_slave_root

CHEF_JSON:
  sql1:
    failover_wordpress:
      database:
        host: *sql1_ip
        root_password: *sql_master_root_pass
        server: &database_server mysql
        server_id: 1
        slave_host: *sql2_ip
      web:
        host: *web_ip
  sql2:
    failover_wordpress:
      database:
        host: *sql2_ip
        master_host: *sql1_ip
        root_password: *sql_slave_root_pass
        server: *database_server
        server_id: 2
        slave_host: *sql1_ip
      web:
        host: *web_ip
  web:
    failover_wordpress:
      database:
        host: *sql1_ip
        root_password: *sql_master_root_pass
    wordpress:
      server_aliases:
        - *web_ip
        - 127.0.0.1
        - localhost
